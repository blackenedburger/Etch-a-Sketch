<!DOCTYPE html>
<html>
<head>
  <title>Etch A Sketch</title>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
</head>
<body>
    <style>
        * { 
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body,html {
            margin: 0;
            padding: 0;
            font-family: sans-serif;

        }

        html{
            height: 100%;
        }

        body { 
            min-height: 100vh; 
            min-width: 100vw;
        }

        #container{
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        #main{
            display: flex;
            justify-content: center;
            align-items: center;
            line-height: auto;
            width: 90%;
            height: 600px;
        }

        div{
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            align-self: center;
        }

        .changingRow{
            display:flex;
            flex-direction: column;
            align-self: center;
            align-items: center;
            justify-content: center;

        }

        .changingDiv{

            background-color:rosybrown;
            flex-grow: 1;
            height: 100%;
            width: 100%;
            opacity: 1.0;
        }

        button{
            width:50px;
            height: 50px;
            margin: 20px;
        }

        .mouseOver{
            background-color: blue;
        }

        .mouseOver2{
            background-color: white;
        }

        .onMouseOut2{
            background-color: black;
            opacity: 10%;
        }
</style>






    <div id="container">
        <div id="button">
            <button id="resetButton" claass="buttons" value="0">Reset with Random Colors</button>
            <button id="resetButton2" class="buttons" value="1" >Reset </button>
        </div>
        <div id="main"></div>
    </div>
    




<script>



function board(){
    const main = document.getElementById("main");
    let number = prompt("how many squares would you like to play with? ");
    let arrayRowColumn = [];
    let divArray = []
    let changingRow;
    let changingDiv;
    let mainDiv = document.getElementById("main");
    const resetButton = document.getElementById("resetButton");
    let allRows = document.querySelectorAll(".changingRow");
    let allDivs = document.querySelectorAll(".changingDiv");
    let buttons = document.getElementsByTagName("button"); 
    let buttonChoice;

    // sets up the buttons if they are clicked goes to different set ups
    for (let i = 0; i < buttons.length; i++){
            buttons[i].addEventListener("click", function(){
                if (i === 0){
                    resetBoard();
                    buttonChoice = 0;
                    number = prompt("how many squares would you like to play with? ");
                    boardSetup()
                } else if (i === 1){
                    resetBoard();
                    buttonChoice = 1;
                    number = prompt("how many squares would you like to play with? ");
                    boardSetup()
                }
            });
        }
        boardSetup();

    // pushes how many board pieces are wanted, into an empty array to make game board 
    function boardSetup(){
        if (arrayRowColumn != [] && divArray != []){
            arrayRowColumn = [];
            divArray = [];
        }
        // if the left or right button is pressed or 
        if (buttonChoice === 0 ){
            for (let i = 0; i < number; i++){
                arrayRowColumn.push(number)
            }
            // goes thru the array and creates divRows and then goes thru the loop and creates divs in each row
            for (let i in arrayRowColumn){
                createRow();
                    for (let i = 0; i < number; i++){
                    createDiv();
                }
            }
        // if the right button is pressed
        } else if (buttonChoice === 1){
            for (let i = 0; i < number; i++){
                arrayRowColumn.push(number)
            }
            for (let i in arrayRowColumn){
                createRow();
                    for (let i = 0; i < number; i++){
                    createDiv2();
                }
            }
        //  if the board first loads, it is the same as the left button reset
        } else {
            for (let i = 0; i < number; i++){
                arrayRowColumn.push(number)
            }
            for (let i in arrayRowColumn){
                createRow();
                    for (let i = 0; i < number; i++){
                    createDiv();
                }
            }
        }
    }

    // Creates random color div board and first loaded
    function createDiv(){
        changingDiv = document.createElement("div");
        changingDiv.setAttribute('class', 'changingDiv');
        changingRow.appendChild(changingDiv);
        divArray.push(changingDiv)   
        for (let i = 0; i < divArray.length; i++){
            divArray[i].addEventListener('mouseover', e => e.target.classList.add('mouseOver'))
            function random_color() {
                var letters = '0123456789ABCDEF'.split('');
                var color = '#';
                for (var i = 0; i < 6; i++ ) {
                    color += letters[Math.round(Math.random() * 15)];
                }
                return color;
            }
            divArray[i].addEventListener("mouseout", function () {
                divArray[i].style.background = random_color();
            })
        }
    }

    // creates tinting div board 
    function createDiv2(){
        changingDiv = document.createElement("div");
        changingDiv.setAttribute('class', 'changingDiv');
        changingDiv.setAttribute('style','background-color:black;');
        changingRow.appendChild(changingDiv);
        divArray.push(changingDiv) 
        for (const item of divArray) { // attaches 10 mouseovers onto each div piece
            let opacity = Number(item.style.opacity);  // changes it into a number, not a string
            item.addEventListener('mouseover', () => { 
                if(opacity < 1) {
                    opacity += 0.1;
                }
                item.style.opacity = opacity;
            });
        };
    }



    // creates the verticle divs to hold the individual divs
    function createRow(){
        changingRow = document.createElement("div");
        changingRow.setAttribute('class', 'changingRow');
        main.appendChild(changingRow);
    }



}

// removes game pieces and restarts
function resetBoard(){ 
    while (main.lastChild) {
        main.removeChild(main.lastChild);
    }
}






// to do
// tool tips offering explanations over the buttons
// seperate the js and css into different files
// max 100 as a number
//


board();
</script>

</body>
</html>